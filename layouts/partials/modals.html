{{ range where .Site.RegularPages "Section" "gallery" }}

  <!-- First 4 characters of each gallery page's unique ID -->
  {{ $modalID := (slicestr .UniqueID 0 4) }}

  <div id="modal-{{ $modalID }}" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>{{ .Params.title }}</h2>

      <article class="entry-content">
        {{ .Content }}

        {{ if .Params.link1 }}<h3><a href="{{ .Params.link1 }}">View</a></h3>{{ end }}
        {{ if .Params.link2 }}<h3><a href="{{ .Params.link2 }}">Code</a></h3>{{ end }}
      </article>
    </div>

  </div>
{{ end }}
